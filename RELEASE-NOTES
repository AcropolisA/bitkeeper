2.0beta13???? Release notes
    This version adds a check for the cset file pointer in every SCCS
    file to the 'check' command.  This is a pointer that indicates the 
    ROOTKEY of the ChangeSet file where the file was created.  The
    check can indicate when a SCCS file is copied into a repository
    from somewhere else. 
    Some older versions of BitKeeper didn't set the field correctly
    and a 'bk -r check -a' will give messages like this:

	Extra file: SCCS/s.ChangeSet
	     belongs to: mason@coffee.suse.com|ChangeSet|20010419131948|47459|8349d
	     should be:  mason@suse.com|ChangeSet|20010419131948|47459|8349d

    These can be repaired by running 'bk -r check -af'
    This fix will have to be repeated in every repository.

2.0_3pardata Release notes
    This version fixes a long standing but undetected bug that leaves
    unmerged tags in the tree.  With this version, trees might see errors
    that look like this:
	Unmerged tag tips:
		1.8.7.51         D1299
		1.316.20.1       ?
		1.8.25.1         <tag merge>
	SCCS/s.ChangeSet: unmerged symleaf 1.8.7.51
	SCCS/s.ChangeSet: unmerged symleaf 1.316.20.1
	SCCS/s.ChangeSet: unmerged symleaf 1.8.25.1
	Unmerged tag tips:
		1.8.7.51         D1299
		1.316.20.1       ?
		1.8.25.1         <tag merge>

    This is an indication that your tree was damaged by a previous
    version of the bitkeeper. You can fix this with the following steps:
 
      a) If you don't have a backup of your tree, make one, just to be
	 extra safe.  The fix only touches SCCS/s.ChangeSet so a
	 backup is really just saving that file.
      b) run "bk tagmerge" which will give errors like above but then
	 will complete without incident.
      c) run "bk admin -hhh ChangeSet" - if that is silent, all is
	 well.  Run a "bk -r check -ac" just to be sure if you like.
      d) propagate this change by pulling to other clones.

    'tagmerge' is a special command created to fix this one problem.
    The problem will not reappear with binaries after this point and
    'tagmerge' will likely disappear in the future.

2.0beta12 Release notes
    bk push -n will hang against earlier versions of the code.

    bk push -n now gets a read lock instead of write lock if the remote side is 
    also upgraded.  

2.0beta9.1 Release notes
    Add a binary resolver, it allows you to use one or the other versions.
    Fix a bug in the lclone locking code.

2.0beta9 Release notes

    Undo can no longer be interrupted leaving a half undone tree.

    Don't annotate binaries.

    Fixed a pathname buffer overflow problem; generically fixed many potential
    similar problems by using aprintf which allocates space as need.

    Fix a problem where connection attempts to BKDs which are done did not 
    produce an error message.

    Added repository read locking to lclone.

    Reworked the on disk flags (xflags). 

    !!!! Note !!!!

    you will almost certainly see check complain about flags the first time you
    run it.  Just run

		bk -r check -acf
		bk -r check -acf

    and that should fix it.  If you are worried about it, clone your tree first
    and try it there.

    You have to run the above command in each repository, the fix does not
    propogate.

===============================================================================
Release notes for BitKeeper version XXX.   These release notes cover
the following topics:

. Installation
. Upgrade Notes
. Changes from last release
	. Interface changes
	. New Features
	. Noteworthy bug fixes
. Known Bugs


We have binary releases for Linux on Sparc, Intel, PPC, and Alpha,
Irix6, FreeBSD 2.2, FreeBSD 3,4, FreeBSD 4.1, OpenBSD 2.7, HP-UX,
AIX, Sparc Solaris, Solaris X86, Windows98/NT/2000.

Installation
-----------------------------------------------------------------------------

The binary tarball unpacks into a directory named "bitkeeper".  This
may be placed in /usr or /usr/local as you see fit.  Several files
should then be symlinked from the bitkeeper directory into a public
binary directory.  The minimum is bitkeeper/bk and bitkeeper/get.  If
you wish to use BitKeeper in conjunction with Emacs vc-mode, you will
also need to symlink admin, delta, prs, rmdel, and unget.  Do NOT
symlink ci and co; this will interfere with RCS.  We no longer
recommend that you place the bitkeeper directory in your PATH.

For you cut-and-paste fans:

	BK=/usr/bitkeeper # change this to match your installation
	cd /usr/bin
	ln -s $BK/bk .
	ln -s $BK/get .
	ln -s $BK/admin .
	ln -s $BK/delta .
	ln -s $BK/prs .
	ln -s $BK/rmdel .
	ln -s $BK/unget .

You will need Tcl and Tk for the GUI (We recommended tcl versions
>=8.0.5).  If /bin/sh is not POSIX compliant, "bk.script" won't work.
Try changing the #! line to point at ksh or bash if you have problems.

Some vendors' versions of diff have bugs which are tickled by
BitKeeper.  If you have problems, we recommend you install GNU diff.

Upgrade notes
----------------------------------------------------------------------------

1) As a precautionary measure, we recommend the first thing you do is backup
   your repositories in case something goes wrong.

2) in each repository, run

        bk cset -vfM1.0..

   This makes sure that all of your change sets are actually
   recorded in the various files.  When we add the transaction log we won't
   need this anymore, but for now...

3) in each repository, make sure that BitKeeper is happy by:

        bk -r check -a

   This makes sure each delta in each file that says it is in a change
   set actually _is_ in a change set.  Then we do it the other
   way:  for each change set in the ChangeSet file, we make sure that the
   change set is marked in the files.  Then we make sure that all the files
   and deltas in the ChangeSet file are in the repository (this will
   flag any missing files).

4) If you find any missing files, you have several options:
   a) if the files are truly missing in all repositories (this can happen
      if someone inadvertently checked in a.out and then somebody had the
      bright idea of removing SCCS/s.a.out), then you can add the key for
      the file to BitKeeper/etc/gone and check in the gone file with a
      "bk new gone".  The key should be the string that BK spits out
      when you run check. For example:

        lm@lm.bitmover.com|src/undo.c|19990818003019|59393

      Make sure that there are no leading or trailing spaces.

      Note: the gone file doesn't make files be gone, you did that.  All
      it does is make BK not be upset that they are gone.  If the file
      ever reappears, BK will ignore the entry in the gone file.

   b) if you can find the file somewhere else, try copying it in by hand
      and then repeat the

        bk cset -vfM1.0..
        bk -r check -a

      if you get no errors, you're done.

   c) if the proceeding gave you errors, then your recovered file is either
      ahead of or behind the repository.  Contact us and we'll help you fix
      it.

5) There are some new commands which you may like:

    bk version - shows BK version like so:
    BitKeeper version is 20000919233720 for x86-glibc21-linux

    bk status - shows the status of a tree like so:
     Status for BitKeeper repository work.bitmover.com:/home/bk/stable
     BitKeeper/Free,bkweb version is 20000919233720 for x86-glibc21-linux
     Built by: lm@work.bitmover.com
     Built on: Tue Sep 19 17:01:38 PDT 2000
     Parent repository is work.bitmover.com:/home/bk/lm
     Pending patches
         73 people have made deltas.
       1068 files under revision control.
          2 files not under revision control.
          0 files modified and not checked in.
          0 files with checked in, but not committed, deltas.


Changes from last release
----------------------------------------------------------------------------

This section contains information on the following topics:

. Interface changes
. New features
. Noteworthy bug fixes


Interface Changes
----------------------------------------------------------------------------

a) Two BitKeeper system files have been renamed:

BitKeeper/etc/csets -> Bitkeeper/etc/csets-in
BitKeeper/etc/pushed -> BitKeeper/etc/csets-out

Typically these files are accessed by the user supplied trigger scripts.
This mean your trigger scripts must be updated when you upgrade to
BitKeeper 2.0.

b) bk mkdiffs command has been removed in 2.x.  It is replaced by
   bk export -tpatch, which is much faster.

c) The new default option of "bk lock" is the -l option (verbose mode).
   To get the silent mode, use the "bk lock -q" option.

d) prs -d option now supports the -gt -lt -eq -ne -ge -le operators.

e) prs -d option no longer prints a line feed by default at the end of each
   delta record.

f) cset -t option has been moved to rset -l.
   cset -R option has been moved to rset -rA,B.

g) In release 1.x, the ignore filter will ignore a directory even if it has
   files under SCCS control. This is bad, since citool may miss files that
   need to be checked-in/committed.  In relesae 2.0, the ignore filter
   applies _only_ to g-files not under sccs control -- it does not ignore
   an entire directory.


New Features
----------------------------------------------------------------------------
a) For users who prefer their g-file to be visible always, even after a
   file is checked in or comitted, you can achieve this by adding the
   following line in the config file:
 	checkout:get
   or
 	checkout:edit
   or
 	checkout:none

   Users can also enable the preference on a per user, per host, per
   repsitory basis. This is done as a selection filter at the beginning
   of the reference line, e.g.:

   	[awc]:checkout:get
   or
   	[awc@work.bitmover.com:/home/bk/stable]checkout:edit
   or
   	[@work.bitmover.com]checkout:get
   or
   	[:/home/bk/stable]heckout:get


b) byte count transfered by each push/pull/clone command is
   logged in the repo-log
c) bk sfiles is much faster (4X) when scanning a large tree
   (this means citool should start up much faster)
d) The  Windows98/NT/2000 version now installs a helptool menu entry
   in the Bitkeeper menu.

e) GUI Tools
       New color scheme

       Consistent keybindings across all tools

       Added mousewheel support to most of the tools
      
       Single configuration file for all tools. The .bkgui
       configuration file is now used to modify the colors,
       keybindings, and widget dimensions.

f) citool
       When staring citool, a progress bar now shows the number of
       files that are being scanned.

       citool now shows files that are not under revision control and
       give the user the option to place them under revision control

       By clicking on the file-type icon, users can exclude modified
       and pending files from the current changeset in cases where
       they might want to push some work to another repository,
       but might want to hold some files back that require more work.

       Files not under revision control can be placed on the ignore list
       by clicking on the file name.

g) sccstool/histtool changes
      Renamed sccstool to histtool.

      Starts much quicker on large trees since we only display the
      last month's worth of revisions, by default. There is a 
      "Select Range" button that allow the user to view earlier 
      revisions.

      When viewing the annotated file listing, clicking on a line
      will bring up the check-in comments for the line.

      When viewing the files that make up a changeset (double-clicking
      on a revision node), clicking on a filename will bring up
      another sccstool for the given file.

      Single-clicking the middle mouse button redisplays the entire
      revision history for a file in the lower text window.

      Double-clicking the middle mouse button display only the tagged
      changesets in the lower text window.

h) helptool
      Added searching

      Added history stack so that you can go back to the previous help 
      topics

i) difftool
      Added ability to search the diffs

      Added ability to reread the file
	


Noteworthy Bug Fixes
----------------------------------------------------------------------------


Known bugs
----------------------------------------------------------------------------

Import and rcs2sccs still don't work nearly as well as we would like.
You can get your CVS tree converted, but it will take quite a bit of
handholding.  See the comments in rcs2sccs.perl.

Excessive use is made of files in /tmp.  There may be security issues
related to this.

LODs are still not implemented.

bkWeb is not working on NT yet.

----------------------------------------------------------------------------
All trademarks are property of their respective owners.
