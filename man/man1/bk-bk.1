.so ../bk-macros
.TH "bk" "\*[BKVER]" %E% "\*(BC" "\*(UM"
.SH NAME
bk \- \*(BK configuration management system front end
.SH SYNOPSIS
.B bk 
.ARG command 
.[ARG] options
.br
.B bk \-R
.ARG command 
.[ARG] options
.br
.B bk 
.[ARG] sfiles_opts
.[OPTopt] \-r dir
.ARG command
.[ARG] options
.ARG \-
.br
.B bk
.OPT \-q
.OPTopt \-@ url
.[ARG] sfiles_opts
.[OPTopt] \-r dir
.ARG command
.[ARG] options
.ARG \-
.SH DESCRIPTION
.B bk
is the front end to all \*(BK commands.
All \*(BK commands are prefixed with 
.B bk
in order to avoid ambiguity with
non-\*(BK commands that might be already installed on the system such as 
.B bk co
and
.BR "bk ci" .
.LP
If you are looking for instructions on how to get started, try running the
test drive at
.BR http://www.bitkeeper.com/Test.html .
.SH OPTIONS
.TP \*<sfiles_opts\*>
.OPTopt \-@ url
Run the command in the specified repository rather than locally.
If
.ARG url
is not specified, then use the parent[s] of the current repository.
If there are multiple parents, incoming and/or outgoing, use all of those
parents.
You can use the construct
.OPTreq \-@@ file
to specify a
.ARG file
containing a list of repository URLs, one per line; the command is
run in each of the remote repositories.
.IP
Except when using
.QR \-q ,
output from each command is prefixed with a header:
.DS
#### \*<url\*> ####
.DE
.IP
The
.OPTopt \-r dir
option works as expected, running the command recursively over all
of the implied files.
If specified,
.ARG dir
must be relative to the root of the remote repository.
.IP
If 
.Q \-
is the last argument, then the standard input is read and buffered.
Each remote command receives the same input.
.tp
.B \-R
Change directories to the root of the repository before running
.ARG command .
.tp
.OPTopt \-r dir
Starting at 
.ARG dir ,
or the repository root if 
.ARG dir
was not specified, apply
.ARG command
recursively to
.ARG dir
and all subdirectories.
This works by generating a list of sfiles and passing them to
.ARG command
on the standard input.
.tp
.ARG sfiles_opts
One or more options may be used in combination with 
.Q \-r
to limit the set of files passed to
.ARG command .
The following sfiles options may be passed:
.\" HEY!  YOU!  Man page hacker.  If you change these make sure you follow
.\" whatever bk-sfiles.1 says, that's the authoritative source, OK?  Thanks!
.RS
.TP \fB\-p[A|C]\fPnn
.B \-1
Only examine the current (or named) directory.
Do not go into subdirectories.
.tp
.B \-a
Examine all files, even if listed in
.BR BitKeeper/etc/ignore .
.tp
.B \-c
List changed files (locked and modified).
If
.I clock_skew
is set in the config file then the file time stamps
and other attributes are used to speed scanning.
The acceptable clock skew can be configured, see
.I clock_skew
in
.BR "bk help config-etc" .
.tp
.B \-d
List directories under \*(BK control (SCCS subdir exists).
.tp
.B \-D
List directories with no (or empty) SCCS subdirs.
.tp
.B \-g
List the gfile name, not the sfile name.
.tp
.B \-G
List files only if they are checked out ("gotten").
.tp
.B \-i
List files which would normally be listed as extras (see
.B \-x 
below) but are suppressed because they are present in the 
.B BitKeeper/etc/ignore 
file.
.tp
.B \-j
List junk files, i.e., files in \*(SC subdirectories which are not 
metadata.
.tp
.B \-l
List locked files (p.file and/or z.file).
.tp
.B \-n
List s.files that are not in the correct location.  
.tp
.OPTopt \-p A|C
List files with pending deltas.  If 
.B \-pC
then list 
leaves which are not in a changeset as 
.Q \-pC
then list leaves which are not in a changeset as 
.B file|1.3
If
.QR \-pA ,
that implies 
.QR \-pC ,
and 
lists all revisions, not just the tip.
If
.BR \-pA ,
that implies 
.BR \-pC ,
and 
lists all revisions, not just the tip.
.Q \-pA
.tp
.B \-u
List unlocked files.
.tp
.B \-U
List user files only, skipping 
the ChangeSet file 
and everything below
.B BitKeeper/
other than 
.BR BitKeeper/triggers/* .
.tp
.B \-x
List files which have no revision control files.
.tp
.B \-y
List files which have saved checkin comments, the files listed
may be either extra files and/or files under \*(BK control.
.RE
.SH EXIT STATUS
Unless otherwise documented, all \*(BK commands return exit status
0 on success and greater than 0 on failure.
.SH EXAMPLES
.LP
The following commands are equivalent:
.DS 6
bk -r co
bk -R sfiles | bk -R co -
cd \`bk root\`; bk sfiles | bk co -
.DE
.SH "SEE ALSO"
.SA sfiles
.SH CATEGORY
.B Repository
