.so ../bk-macros
.TH "bk commit" "\*[BKVER]" %E% "\*(BC" "\*(UM"
.\"    ========== Committing changes to a BitKeeper changeset =========
.SH NAME
bk commit \- commit deltas to a changeset
.SH SYNOPSIS
.B bk commit
.[B] \-fq
.[OPTreq] \-l file 
.[OPTreq] \-S tag
.[OPTreq] \-y comment
.[OPTreq] \-Y file 
.[B] \-
.SH DESCRIPTION
.LP
This command commits work to a changeset, creating a logical group of
changes which can span multiple files and/or multiple deltas within 
one or more files.
.LP
If the command line does not have a trailing dash then 
.B bk commit
will search the repository for any files which are in
\*(lqpending\*(lq state, i.e., have deltas which do not yet belong
to a changeset, and groups all of them into a changeset.
If the trailing dash is present, then the command takes the list
of files to commit from the standard input.
.LP
You can see what will be added to a changeset when you commit by running:
.DS
$ bk pending
.DE
Pending lists only files which have checked in deltas; files that
are not yet checked in are not shown.  Use 
.B bk status
or
.B bk sfiles
if you want to see both.
.LP
All revisions which you have checked in will become part of a
changeset.  As part of the commit step, you will be prompted for
comments (if non were provided on the command line).
The comments should describe the logical change that you have made;
these comments are what will be displayed by 
.BR "bk changes" .
.LP
If no comments are provided and there is a 
.B BitKeeper/templates/commit
file present in the repository,
then the default comments are the contents of that file.
.LP
.B Note:
using
.B bk citool
is the preferred way to commit. Not only will
.B bk citool
help with checking in files, it will also create a changeset if you enter
ChangeSet comments.  
.LP
.B Note:
using the default comments on an import is not advisable.  The default
comments contain information about each file and can create very large
comment entries in the ChangeSet file.  The ChangeSet file is the center
of activity in \*(BK, and having an unnecessarily large one will not help
performance.
.SH OPTIONS
.TP \-y\*<comment\*>
.B \-f
Don't run interactively; do the commit with the default comments.
Ignores the commit template, if any.
.tp
.OPTreq \-l file
Get the list of files to commit from
.ARG file .
XXX - get the exact format - rick says file|rev
.tp
.B \-q
Run quietly.
.tp
.OPTreq \-S tag
Tag the tree with
.ARG tag
at the same time as the commit.
.tp
.OPTreq \-Y file
Get check-in comment for changeset from
.ARG file .
.tp
.OPTreq \-y comment
Set check-in comment of changeset to
.ARG  comment .
.SH "SEE ALSO"
.SA changes
.SA citool
.SA import
.SA pending
.SA sfiles
.SA status
.SA tag
.SA templates
.\" help://changeset
.\" help://changesets
.SH CATEGORY
.B Repository
