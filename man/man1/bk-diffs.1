.so bk-macros
.TH "bk diffs" 1 %E% "\*(BC" "\*(UM"
.SH NAME
bk diffs \- show differences in revision controlled files
.SH SYNOPSIS
.B bk diffs 
.OPT opts
.BKARGS
.SH DESCRIPTION
.LP
To view changes you have made to all of the files in a directory
since checking the files out, type:
.DS
$ bk diffs | more
.DE
To see the changes for all files in your tree, do the following:
.DS
$ bk \-r diffs | more
.DE
The 
.B bk diffs
command supports context, unified, procedural, and side-by-side diffs.
All of the above can be optionally annotated with filename,
author, date, and/or revision numbers.
.SH OPTIONS
.if t .TP .7i
.if n .TP 1.1i
.if t \fB\-A\fP\fIbdpru\fP
.if n \fB\-A\fP\fI<bdpru>\fP
Align prefix output in a human readable form.
The set of annotations will be followed by a vertical bar and a space
before the data from each line of the file starts.
Each annotation is aligned in a column.
The option argument[s] turn on one
or more annotations as a prefix to each line.
The possible annotations are:
.RS
.TP 4
.B b
Prefix each line with the basename of the file.
.tp
.B d
Prefix each line with the date of last modification.
.tp
.B p
Prefix each line with pathname of the file relative to the root
of the repository.
.tp
.B r
Prefix each line with the revision of last modification.
.tp
.B u
Prefix each line the name of the user who last modified it.
.RE
.if t .TP .7i
.if n .TP 1.1i
.if t \fB\-a\fP\fIbdpru\fP
.if n \fB\-a\fP\fI<bdpru>\fP
Similar to
.B \-A 
but without the alignment.
.tp
.B \-b
Ignore changes in amount of white space.
.tp
.B \-B
Ignore  changes  that  just  insert or delete blank lines.
.tp
.B \-c
Do context diffs.
.tp
.OPTreq \-d date
Diff using date or symbol.
.tp
.B \-h
Don't print headers.
.tp
.B \-H
Prefix diffs with the checkin comments of that range of revisions.
The comments printed are those associated with the set difference
of the two revisions.
.tp
.OPTreq \-l rev
Show all changes made by the changeset containing rev 
.ARG rev .
.tp
.B \-n
Do RCS style diffs.
.tp
.B \-p
Procedural diffs, like
.B diff \-p.
.tp
.OPTreq \-r rev
Diff revision 
.ARG rev .
(Or key or changeset revision. See 
.B bk help terms
under 'rev argument')
.tp
.OPTreq \-R rev
Show diffs between parent of 
.ARG rev
and
.ARG rev .
.tp
.B \-s
Display side-by-side diffs.
.tp
.B \-u
Do unified diffs.
.tp
.B \-v
Be verbose about non-matching ranges.
.tp
.B \-w
Ignore white space when comparing lines.
.SH EXAMPLES
You may diff specific revisions:
.DS
$ bk diffs -r1.2..1.4 foo.c
.DE
When only one revision is supplied with -r, then that revision is
compared to the working file or the top of trunk if the file is not
edited.
.LP
A fairly useful thing is to show the differences introduced by a 
specific revision or changeset:
.DS
bk diffs -R1.5 foo.c
bk diffs -R@alpha1 bar.c
.DE
.LP
You can use bk diffs to diff your entire tree, including edits against an
existing changeset revision or tag in your repository.  The second form
below, -r@<rev>, means use the revision as of changeset <rev>.
.DS
$ bk -r diffs -u
$ bk -r diffs -u -r@<rev>
.DE
.SH BUGS
The annotations, if any, are currently considered part of the data when diffing
files.  This needs to work more like bk grep.
.LP
This command should support more of the GNU diff options.
.SH SEE ALSO
.BR diff (1)
.br
.SA difftool 1
.SA export 1
.SA treediff
.\" help://differences
.\" help://sdiffs
.SH CATEGORY
.B File
.br
.B Common
