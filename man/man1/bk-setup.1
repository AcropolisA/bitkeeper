.so ../bk-macros
.TH "bk setup" 1 20%E% "\*(BC" "\*(UM"
.\"    ====================== BitKeeper setup ======================
.SH NAME
bk setup \- create a new \*(BK package repository
.SH SYNOPSIS
.Bc bk setup [-f] [
.OPTopt \-c config_file
.B ] 
.ARG directory
.SH DESCRIPTION
.LP
Before setting up a \*(BK repository, you need to read the
license.  \*(BK is not traditional Open Source.  Please see
.B bk help license 
and make sure that you agree with the terms.
.LP
To set up a \*(BK package, you need to create and populate a
package tree.  The 
.B setup 
command will create the package tree.
That is, it creates a top level directory
with the same name as the repository name as well as
several files and directories that are used for
administrative purposes.
.LP
The setup command will prompt you for a description of the package. In
addition, you will be asked to edit a configuration file containing 
information about your new repository.
.LP
A system wide default config file may be created in 
/etc/BitKeeper/etc/config.template.  If this file is detected when 
bk setup is run, without the -c option, it will be used as the 
default BitKeeper/etc/config file automatically.
.SH OPTIONS
.if t .TP .9i
.if n .TP 1.8i
.OPTopt -c config_file
Use 
.ARG config_file
as the configuration file to setup the repository.
.tp
.B -f
Don't ask for confirmation.
.SH EXAMPLES
.LP
When creating a repository called "mypackage", you type
the following command:
.DS
$ bk setup ~/mypackage
.DE
The following shows the directory structure of a new package.
.TP 17
.B mypackage/
.if t .sp -.3
.if n .sp -1
.RS .3i
.TP 17
.B ChangeSet
Index of all changes to the repository.
.if t .sp -.3
.if n .sp -1
.TP
.B BitKeeper/
Directory where administrative files are kept.
.RE
.if t .sp -.3
.if n .sp -1
.RS 1i
.TP 10
.B etc/
Config files, in the future, policy files.
.tp
.B log/
Mail and command logs, parent pointer.
.tp
.B deleted/
Deleted files are archived here (like CVS Attic).
.tp
.B tmp/
Scratch area.
.tp
.B readers/
Transient directory for reader locks.
.tp
.B writer/
Transient directory for writer lock.
.tp
.B triggers/
Executable trigger programs stored here.
.tp
.B linked/
Directory for keeping track of linked files
(i.e.  two files which are logically one). 
.RE
.LP
Once the repository is created, you should make a hierarchy to store
your source files. For example, you could create the following tree:
.TP
.B mypackage/
.RS .6i
.tp
.B src/
source code
.tp
.B man/
manual pages
.tp
.B doc/
user guides, papers, docs...
.RE
.LP
At this point, if you are creating a new package from scratch, 
cd to ~/mypackage/src
and start creating files.  See 
.B bk help Basics-Overview
and
.B bk help Howto-setup
for more info.
.LP
If you have an existing set of files that you want to add to the
repository, see 
.BR "bk import" .
.SH "SEE ALSO"
.SA Howto 1
.SA Howto-setup 1
.SA import 1
.SA config-etc
.SH CATEGORY
.B Repository
